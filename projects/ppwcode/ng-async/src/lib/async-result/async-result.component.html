<mtx-loader [loading]="pending" type="progressbar">
    <ng-container *ngIf="asyncResult">
        <ng-container
            *ngTemplateOutlet="
                hasFailed ? failed : isInitial ? initialTemplate ?? null : successTemplate;
                context: { $implicit: asyncResult }
            ">
        </ng-container>
    </ng-container>
</mtx-loader>

<ng-template #failed>
    <ppw-message-bar
        [message]="asyncResult!.error?.message ?? '' | translate"
        [severity]="errorSeverity"></ppw-message-bar>
</ng-template>
